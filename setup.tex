% Document definition
\documentclass[a4paper,11pt,openany]{book}

% Packages
  % Math packages
  \usepackage{amsmath, amssymb, amsfonts} % Math symbolic jargon
  \usepackage{amsthm} % Theorem environment
  \usepackage{mathrsfs}	% Provides the \mathscr{} curly font
  \usepackage{stmaryrd}	% Provides the \lightning symbol and semantics-brackets, among others
  \usepackage{tikz} % Awesome diagrams
    \usetikzlibrary{cd} % Commutative diagrams 
    \usetikzlibrary{matrix,arrows} % Matrices and arrows for style points
    \usetikzlibrary{decorations.pathreplacing,calc,arrows.meta} % For making tree cds
  \usepackage[all]{xy} % Provides xymatrix environment for diagrams
		\newdir{|>}{-<0pt,5pt>{\blacktriangleup}}
  \usepackage{xfrac} % Provides \sfrac command for diagonal fractions
		
  % General packages
  \usepackage{sectsty} % Makes it possible to manipulate fonts
  \usepackage{hyperref} % Provides \url and clickable links in the pdf
  \usepackage{cleveref}	% Provides \cref and \Cref for including text before references
  \usepackage{graphicx}	% Provides the \includegraphics[]{} command
  \usepackage{comment} % Provides comment-environment for multi-line commenting
  \usepackage{twoopt} % Allows adding commands with two optional arguments
  \usepackage{setspace} % Provides onehalfspacing environment
  \usepackage{enumitem}	% Provides control of spacing in lists
  \usepackage{amsbsy} % Provides \boldsymbol command
  \usepackage{lipsum}
  \usepackage{subfiles} % Enables compilation of master document from child
	
  % Page layout
  \usepackage{wallpaper} % Adds the \ThisLRCornerWallPaper command
  \usepackage{fancyhdr}	% Provides headers
  \usepackage[compact,small]{titlesec} % Makes titles a bit smaller with shorter proceeding space
  \usepackage{changepage} % Provides adjustwidth environment for claims
  \usepackage{lastpage} % Provides LastPage variable

  % Todonotes
  \usepackage{todonotes} % Enables the \todò command

% Font size
\sectionfont{\large}
\chapterfont{\LARGE}

% Titlesec setup
\definecolor{gray75}{gray}{0.75}
\titleformat{\chapter}[hang]{\huge\scshape}{\thechapter\hspace{13pt}\textcolor{gray75}{$\vert$}\hspace{13pt}}{0pt}{\huge\scshape}
\titlespacing*{\chapter}{0pt}{0pt}{40pt}
\titleformat{\section}[hang]{\Large\scshape}{\thesection}{2ex}{}[]

% Prevent widows and orphans
\widowpenalty = 10000
\clubpenalty = 10000

% List spacing
\setlist{nolistsep}

% No indent
\setlength{\parindent}{0pt}

% Line spacing (1.3 = one and a half spacing)
\linespread{1.3}

% Theorem environment
\newtheoremstyle{scthmstyle} % Name
	{15pt} % Space above
	{15pt} % Space below
	{\itshape} % Body font
	{} % Indent amount
	{\bfseries\scshape} % Theorem head font
	{.} % Punctuation after theorem head
	{.5em} % Space after theorem head
	{} % Theorem head spec (can be left empty, meaning ënormalí)

\newtheoremstyle{scdefstyle} % Name
	{15pt} % Space above
	{15pt} % Space below
	{\normalfont} % Body font
	{} % Indent amount
	{\bfseries\scshape} % Theorem head font
	{.} % Punctuation after theorem head
	{.5em} % Space after theorem head
	{} % Theorem head spec (can be left empty, meaning ënormalí)

\newtheoremstyle{scremstyle} % Name
	{15pt} % Space above
	{15pt} % Space below
	{\normalfont} % Body font
	{} % Indent amount
	{\itshape} % Theorem head font
	{.} % Punctuation after theorem head
	{.5em} % Space after theorem head
	{} % Theorem head spec (can be left empty, meaning ënormalí)

\newtheoremstyle{scclaistyle} % Name
	{15pt} % Space above
	{15pt} % Space below
	{\normalfont} % Body font
	{0.5cm} % Indent amount
	{\itshape} % Theorem head font
	{.} % Punctuation after theorem head
	{.5em} % Space after theorem head
	{} % Theorem head spec (can be left empty, meaning ënormalí)

\theoremstyle{scthmstyle}
\newtheorem{theorem}{Theorem}[chapter]
\newtheorem{proposition}[theorem]{Proposition}
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{corollary}[theorem]{Corollary}
\theoremstyle{scdefstyle}
\newtheorem{definition}[theorem]{Definition}
\newtheorem{convention}[theorem]{Convention}
\newtheorem{example}[theorem]{Example}
\newtheorem{question}[theorem]{Question}
\theoremstyle{scremstyle}
\newtheorem{remark}[theorem]{Remark}
\theoremstyle{scclaistyle}
\newtheorem{claim}[theorem]{Claim}

% User-defined commands
  % General things	
  \newcommand{\eq}[1]{\begin{align*} #1 \end{align*}}
  \newcommand{\eqq}[1]{\begin{align*} #1\\ \end{align*}}
  \newcommandtwoopt{\figx}[4][][350]{\begin{figure}\centering\includegraphics[width=#2px]{\string~/gitsky/phd/gfx/#3}\caption{#4}\label{#1}\end{figure}}
  \newcommand{\pix}[2][1]{\begin{center}\includegraphics[scale=#1]{#2}\\\end{center}}
  \newcommand{\cd}[1]{\eq{\xymatrix{#1}}}
  \renewcommand{\labelenumi}{(\roman{enumi}) } % Using roman numerals in lists
  \renewcommand{\b}[1]{{\bf #1}}

  % Theorem environments
  \newcommandtwoopt{\theo}[3][][]{
    \begin{theorem}[#1]\label[theorem]{#2}
      #3
    \end{theorem}}
  \newcommandtwoopt{\prop}[3][][]{
    \begin{proposition}[#1]\label[proposition]{#2}
      #3
    \end{proposition}}
  \newcommandtwoopt{\lemm}[3][][]{
    \begin{lemma}[#1]\label[lemma]{#2}
      #3
    \end{lemma}}
  \newcommandtwoopt{\coro}[3][][]{
    \begin{corollary}[#1]\label[corollary]{#2}
      #3
    \end{corollary}}
  \newcommandtwoopt{\defi}[3][][]{
    \begin{definition}[#1]\label[definition]{#2}
      #3\hfill$\circ$
    \end{definition}}
  \newcommandtwoopt{\qdefi}[3][][]{
    \begin{definition}[#1]\label[definition]{#2}
      #3
    \end{definition}}
  \newcommandtwoopt{\exam}[3][][]{
    \begin{example}[#1]\label[example]{#2}
      #3
    \end{example}}
  \newcommandtwoopt{\ques}[3][][]{
    \begin{question}[#1]\label{#2}
      #3
    \end{question}}
  \newcommandtwoopt{\rema}[3][][]{
    \begin{remark}[#1]\label[remark]{#2}
      #3
    \end{remark}}

  \newcommandtwoopt{\qtheo}[3][][]{
    \begin{theorem}[#1]\label[theorem]{#2}
      #3$\qed$
    \end{theorem}}
  \newcommandtwoopt{\qprop}[3][][]{
    \begin{proposition}[#1]\label[proposition]{#2}
      #3$\qed$
    \end{proposition}}
  \newcommandtwoopt{\qlemm}[3][][]{
    \begin{lemma}[#1]\label[lemma]{#2}
      #3$\qed$
    \end{lemma}}
  \newcommandtwoopt{\qcoro}[3][][]{
    \begin{corollary}[#1]\label[corollary]{#2}
      #3$\qed$
    \end{corollary}}

  \newcommand{\proofretard}{\textsc{Proof.} }
  \renewcommand{\proof}[1]{\textsc{Proof.} #1$\qed$\\}
  \newcommand{\clai}[3][]{\begin{claim}[#1]#2\end{claim}}
  \newcommand{\cproof}[1]{
    \begin{adjustwidth}{0.5cm}{0pt}
      \textsc{Proof of claim.} #1$\hfill\dashv$\\
    \end{adjustwidth}}
  \renewcommand{\qed}{\hfill\blacksquare}
  \newcommand{\qedeq}{\tag*{$\blacksquare$}}

  % Declared operators
  \DeclareMathOperator{\tc}{trcl}
  \DeclareMathOperator{\env}{Env}
  \DeclareMathOperator{\mc}{\textsf{MC}}
  \DeclareMathOperator{\od}{OD}
  \DeclareMathOperator{\dirlim}{dirlim}
  \DeclareMathOperator{\iterates}{I}
  \DeclareMathOperator{\piterates}{pI}
  \DeclareMathOperator{\blowups}{B}
  \DeclareMathOperator{\pblowups}{pB}
  \DeclareMathOperator{\lhod}{\triangleleft_{\mathrm{HOD}}}
  \DeclareMathOperator{\lehod}{\trianglelefteq_{\mathrm{HOD}}}
  \DeclareMathOperator{\ledj}{\le_{\mathrm{DJ}}}
  \DeclareMathOperator{\nledj}{\not{\le}_{\mathrm{DJ}}}
  \DeclareMathOperator{\ldj}{<_{\mathrm{DJ}}}
  \DeclareMathOperator{\otp}{otp}
  \DeclareMathOperator{\pred}{pred}
  \DeclareMathOperator{\hod}{HOD}
  \DeclareMathOperator{\di}{\textsf{DI}}
  \DeclareMathOperator{\hc}{\textsf{HC}}
  \DeclareMathOperator{\lp}{Lp}
  \DeclareMathOperator{\rk}{rk}
  \DeclareMathOperator{\rud}{rud}
  \DeclareMathOperator{\val}{val}
  \DeclareMathOperator{\ran}{ran}
  \DeclareMathOperator{\cod}{cod}
  \DeclareMathOperator{\trcl}{trcl}
  \DeclareMathOperator{\dom}{dom}	
  \DeclareMathOperator{\rank}{rank}
  \DeclareMathOperator{\im}{im}
  \DeclareMathOperator{\ma}{MA}
  \DeclareMathOperator{\id}{id}
  \DeclareMathOperator{\sing}{Sing}
  \DeclareMathOperator{\cl}{cl}
  \DeclareMathOperator{\Int}{int}
  \DeclareMathOperator{\ob}{Ob}
  \DeclareMathOperator{\lh}{lh}
  \DeclareMathOperator{\mor}{Mor}
  \DeclareMathOperator{\ult}{Ult}
  \DeclareMathOperator{\con}{Con}
  \DeclareMathOperator{\cf}{cf}
  \DeclareMathOperator{\crit}{crit}
  \DeclareMathOperator{\pd}{pd}
  \DeclareMathOperator{\xor}{\oplus}
  \DeclareMathOperator{\nor}{\downarrow}
  \DeclareMathOperator{\nand}{\uparrow}
  \DeclareMathOperator{\biglor}{\bigvee}
  \DeclareMathOperator{\bigland}{\bigwedge}
  \DeclareMathOperator{\Lr}{\Leftrightarrow}
  \DeclareMathOperator{\lr}{\leftrightarrow}
  \DeclareMathOperator{\ip}{\perp\!\!\!\perp}
  \DeclareMathOperator{\psubset}{\subsetneq}
  \DeclareMathOperator{\psupset}{\supsetneq}
  \DeclareMathOperator{\elsub}{\prec}
  \DeclareMathOperator{\elsup}{\succ}
  \DeclareMathOperator{\contr}{\lightning}
  \DeclareMathOperator{\proves}{\vdash}
  \DeclareMathOperator{\nproves}{\nvdash}
  \DeclareMathOperator{\nmodels}{\nvDash}
  \DeclareMathOperator{\forces}{\Vdash}
  \DeclareMathOperator{\nforces}{\nVdash}
  \DeclareMathOperator{\adj}{\dashv}
  \DeclareMathOperator{\restr}{\upharpoonright}
  \DeclareMathOperator{\ex}{\underline{ex}}
  \DeclareMathOperator{\st}{\underline{st}}
  \DeclareMathOperator{\sv}{\underline{sv}}
  \DeclareMathOperator{\tl}{\underline{tl}}
  \DeclareMathOperator{\tensor}{\otimes}
  \DeclareMathOperator{\M}{\mathcal M}
  \DeclareMathOperator{\N}{\mathcal N}
  \DeclareMathOperator{\K}{\mathcal K}
  \DeclareMathOperator{\F}{\mathcal F}
  \DeclareMathOperator{\Q}{\mathcal Q}
  \DeclareMathOperator{\W}{\mathcal W}
  \DeclareMathOperator{\V}{\mathcal V}
  \DeclareMathOperator{\T}{\mathcal T}
  \DeclareMathOperator{\U}{\mathcal U}
  \DeclareMathOperator{\B}{\mathcal B}
  \DeclareMathOperator{\R}{\mathcal R}
  \DeclareMathOperator{\G}{\mathcal G}
  \DeclareMathOperator{\A}{\mathcal A}
  \DeclareMathOperator{\h}{\mathcal H}
  \DeclareMathOperator{\D}{\mathcal D}
  \DeclareMathOperator{\C}{\mathcal C}
  \DeclareMathOperator{\I}{\mathcal I}
  \DeclareMathOperator{\J}{\mathcal J}
  \DeclareMathOperator{\cof}{cof}
  \DeclareMathOperator{\hull}{Hull}
  \DeclareMathOperator{\chull}{cHull}
  \DeclareMathOperator{\col}{Col}
  \DeclareMathOperator{\add}{Add}
  \DeclareMathOperator{\card}{card}
  \DeclareMathOperator{\Card}{Card}
  \DeclareMathOperator{\code}{Code}

  % Redeclared operators
  \renewcommand{\subset}{\subseteq}
  \renewcommand{\supset}{\supseteq}
  \renewcommand{\hom}{\text{Hom}}
  \renewcommand{\P}{\mathcal{P}}
  \renewcommand{\S}{\mathcal{S}}
	\renewcommand{\l}{|}

  % Convenient shortcuts
  \newcommand{\zf}{\textsf{ZF}}
  \newcommand{\zfc}{\textsf{ZFC}}
  \newcommand{\kp}{\textsf{KP}}
  \newcommand{\vp}{\textsf{VP}}
  \newcommand{\gvp}{\textsf{gVP}}
  \newcommand{\on}{\textsf{On}}
  \newcommand{\wvp}{\textsf{WVP}}
  \newcommand{\gwvp}{\textsf{gWVP}}
  \newcommand{\gbc}{\textsf{GBC}}
  \newcommand{\km}{\textsf{KM}}
  \newcommand{\ch}{\textsf{CH}}
  \newcommand{\gch}{\textsf{GCH}}
  \newcommand{\ad}{\textsf{AD}}
  \newcommand{\ac}{\textsf{AC}}
  \newcommand{\dc}{\textsf{DC}}
	\newcommand{\pistol}{\mathparagraph}
	\newcommand{\p}{\mathscr P}
  \newcommand{\nsubset}{\nsubseteq}
  \newcommand{\nsupset}{\nsupseteq}
  \newcommand{\bra}[1]{\langle #1\rangle}
  \newcommand{\dbra}[1]{\llbracket #1 \rrbracket}
  \newcommand{\norm}[1]{\left|\left|#1\right|\right|}
  \newcommand{\abs}[1]{\left|#1\right|}
  \newcommand{\normal}{\unlhd}
  \newcommand{\ideal}{\unlhd}
  \newcommand{\init}{\unlhd}
  \newcommand{\core}{\mathfrak C}
  \newcommand{\E}{\vec{E}}
  \newcommand{\pinit}{\lhd}
  \newcommand{\godel}[1]{\ulcorner #1 \urcorner}
  \newcommand{\game}[8]{\eq{\begin{array}{ccccccccc} \text{I} & #1 && #3 && #5 && #7\\ \text{II} && #2 && #4 && #6 && #8 \end{array}}}
  \newcommand{\los}{{\fontfamily{arial}\selectfont\L}o\' s}
