\documentclass[../main]{subfiles}
\pagestyle{fancy}

\begin{document}

\chapter{Preliminaries}
\label{apxA}
\thispagestyle{fancy}

\section{Descriptive set theory}

\begin{convention}
  We will be using the ``logician's reals'',
  meaning that $\mathbb{R} := {^{\omega}\omega}$ with the product
  topology, having the sets $\{x\in\mathbb R\mid x\supset s\}$ for
  $s\in{^{<\omega}\omega}$ as a clopen basis.
\end{convention}

\defi{
  Let $A, B \subset \mathbb{R}$. We say that \emph{$A$ is Wadge
    reducible to $B$} \index{Wadge order $A \le_W B$} (in symbols
  $A \le_{W} B$) iff there is some continuous
  function $f \colon \mathbb{R} \to \mathbb{R}$ such that
  \[
    A = f^{-1}[B] := \{ a \in A \mid f(a) \in B \}.
  \]
  We write $A <_{W} B$ iff $A \le_{W} B$ and $B \not \le_{W} A$.
}

\rema{

  $\mathbb{R}$ and $\mathbb{R}^{n}$, for $1 \leq n \le \omega$
  are homeomorphic and we shall often identify them with one another.
  
}

\defi{

  Subseteq of $\mathcal{R}$ are called \emph{pointsets}
  \index{pointset}. Subsets of $\mathcal{P}(\mathbb{R})$ are called
  \emph{pointclasses} \index{pointclass}.

}

\defi{
  Let $\Gamma$ be a pointclass. We define
  \begin{enumerate}
  \item $\exists^{\mathbb{R}} \Gamma := \{ A \mid \exists B \in \Gamma \colon A = \{ x \in \mathbb{R} \mid \exists y \in \mathbb{R} (x,y) \in B \} \}$, \index{$\exists^{\mathbb{R}} \Gamma$}
  \item
    $\forall^{\mathbb{R}} \Gamma := \{ A \mid \exists B \in \Gamma
    \colon A = \{ x \in \mathbb{R} \mid \forall y \in \mathbb{R} (x,y)
    \in B \} \}$. \index{$\forall^{\mathbb{R}} \Gamma$}
  \end{enumerate}
}

\defi{
  Let $\Gamma$ be a pointclass. We define
  \begin{enumerate}
  \item
    $\overset{\smallsmile}{\Gamma} := \{ \mathbb{R} \setminus A \mid A \in
    \Gamma \}$ \index{$\overset{\smallsmile}{\Gamma}$},
  \item $\Delta_{\Gamma} := \Gamma \cap \overset{\smallsmile}{\Gamma}$ \index{$\Delta_{\Gamma}$} and
  \item $\underset{\sim}{\Gamma} := \exists^{\mathbb{R}} \Gamma$ \index{$\underset{\sim}{\Gamma}$}.
  \end{enumerate}
}

\begin{lemma}[\cite{Wadge}]
  \index{Wadge`s Lemma}
  Assume $\zf + \ad$ and let $A, B \subset \mathbb{R}$. Then
  \[
    A \le_{W} B \text{ or } B \le_{W} \mathbb{R} \setminus A.
  \]  
\end{lemma}

\begin{lemma}[Martin-Monk-Wadge]
  Assume $\zf + \ad + \dc_{\mathbb{R}}$. Then
  $\leq_{W}$ is wellfounded.\footnote{See \cite{Larson} for a proof.}
\end{lemma}

\begin{remark}
  When considering $(\mathcal{P}(\mathbb{R}); \le_{W})$ in a
  $\zf + \ad+\dc_{\mathbb R}$ context, we will often tacitly identify
  $A \subset \mathbb{R}$ with its complement, making $<_W$ a wellorder.
\end{remark}

\defi[$\zf + \ad + \dc_{\mathbb{R}}$]{
  Let $A \subset \mathbb{R}$. Then the \emph{Wadge rank of $A$}
  \index{Wadge rank} is defined recursively as
  $\abs A_{W} := \sup\{\abs B_W+1\mid B <_W A\}$.  }

\begin{definition}
  Let $X$ be a set. We write $\od_{X}$ \index{OD$_X$} for the
  collection of all $A$ for which there is some formula $\phi$,
  ordinals $\alpha_{0}, \ldots, \alpha_{k}$ and $x_{0}, \ldots, x_{l}\in X$
  with
  \[
    A = \{ a \mid \phi[a, \alpha_{0}, \ldots, \alpha_{k}, x_{0},
    \ldots, x_{l}] \}.\tag*{$\dashv$}
  \]
  We write $\hod_{X}$ for the collection of all $A$ such that
  $\tc(\{A\}) \subset \od_{X}$. \\
  If $X = \emptyset$, we will often drop the subscript and simply
  write $\od$ and $\hod$ for $\od_{\emptyset}$ and $\hod_{\emptyset}$
  respectively.
\end{definition}

\defi[$\zf + \ad + \dc_{\mathbb{R}}$]{ For $B \subset \mathbb{R}$
  let \eq{
    \theta_{B} :& = \sup \{ \abs A_{W} \mid \exists x \in
    \mathbb{R} \colon A \in \od_{\mathbb{R} \cup \{B \}} \} \\
    & = \sup \{ \alpha \in \on \mid \text{ there is a } \od_{\mathbb{R} \cup
      \{B\}} \text{-surjection } f \colon \mathbb{R} \to \alpha \}.
  }
  \index{$\theta_{B}$}
\todo{Verify that these two values are in fact identical.}
}

\defi[$\zf + \ad + \dc_{\mathbb{R}}$]{ \index{Solovay sequence} Define
  the \emph{Solovay sequence}
  $\bra{\theta_{\alpha} \mid \alpha \le \Omega}$
  \index{$(\theta_{\alpha} \mid \alpha \le \Omega)$}
  \index{$\Omega$} as follows:
  \begin{enumerate}
  \item
    $\theta_{0} := \theta_{\emptyset}$,
  \item if there is some $B$ such that $|B|_{W} = \theta_{\alpha}$ let $\theta_{\alpha + 1} := \theta_{B}$.\footnote{Since
        continuous functions are coded by reals, this is independent
        of the choice of $B$.}
  \item if $\alpha$ is a limit ordinal, we let
    $\theta_{\alpha} := \sup_{\beta < \alpha} \theta_{\beta}$.
  \end{enumerate}
  Finally, $\Omega$ is the least ordinal such that
  $\theta_{\alpha+1} = \theta_{\alpha}$, and
  $\Theta := \theta_{\Omega}$.
}


\section{Ideals}

\defi{
  Let $I$ be an ideal on a nonempty set $Z$. Let
  \begin{enumerate}
    \item $I^{+} := \mathcal{P}(Z) \setminus I$,
    \item for $a,b \in I^{+}$ let $a \sim_{I} b$ iff $a \Delta b \in I$,
    \item $\mathcal{P}(Z)/I:=\P(Z)/{\sim_I}$ is the Boolean algebra
      with subset inclusion modulo $\sim_I$.
  \end{enumerate}

  We call $\P(Z)/I$ the \index{Ideal!Forcing associated to an ideal}
  \emph{associated forcing} to $I$.
}

\defi{
  If $I$ is an ideal on a cardinal $\kappa$ and
  $g\subset\P(\kappa)/I$ $V$-generic then $g$ is a $V$-ultrafilter on
  $\kappa$ in $V[g]$, so that we may take the \index{Ideal!Generic ultrapower by an ideal}\index{Generic
    ultrapower} \emph{generic ultrapower} $\ult(V,g)$.
}

\prop{
  Let $I$ be an ideal on a cardinal $\kappa$. Then..
  \begin{enumerate}
    \item if $I$ is $\kappa$-complete then so is any generic ultrafilter;
    \item if $I$ is normal then so is any generic ultrafilter.$\hfill\dashv$
    \end{enumerate}
    \todo{define $\kappa$-complete and normal for an ideal. Add reference.}
}



\begin{definition}
  Let $\lambda$ be any cardinal. Then an ideal $I$ on a cardinal
  $\kappa$ is...
  \begin{itemize}
  \item \index{Precipitous ideal}\index{Ideal!Precipitous ideal} \emph{precipitous} if the generic
    ultrapower is wellfounded;
  \item \index{Saturated ideal}\index{Ideal!Saturated ideal} \emph{$\lambda$-saturated}
    if the associated forcing has the $\lambda$-chain condition;
  \item \index{Dense ideal}\index{Ideal!Dense ideal} \emph{$\lambda$-dense} if the
    associated forcing has a dense subset of size
    $\lambda$.$\hfill\dashv$
  \end{itemize}
\end{definition}

Note that $\lambda$-dense trivially implies
$\lambda^+$-saturated. We'll need the following facts about
$\omega_2$-saturated ideals on $\omega_1$:

\begin{proposition}\todo{Parts (ii)-(v) is Example 4.29 in Foreman's
    handbook chapter. Perhaps include the proof.}
  \label{prop.ideal}
  Let $I$ be an $\omega_2$-saturated ideal on $\omega_1$. Then $I$ is
  precipitous, and letting $j \colon V\to M$ be the generic ultrapower map,
  it holds that
  \begin{enumerate}
    \item $M$ is closed under $\omega$-sequences in $V[g]$;
    \item $j(\omega_1^V)=\omega_2^V=\omega_1^{V[g]}$;
    \item $j(\omega_2^V)\in(\omega_2^V,\omega_3^V)$;
    \item $j$ is continuous at $\omega_2^V$;
    \item $j(\omega_n^V)=\omega_n^V=\omega_{n-1}^{V[g]}$ for all
      $n\in[3,\omega]$.$\hfill\dashv$
  \end{enumerate}
\end{proposition}

As for the density, we in particular need the following fact:

\qprop{ Let $I$ be an $\omega_1$-dense ideal on $\omega_1$. Then the
  associated forcing is forcing equivalent to $\col(\omega,\omega_1)$,
  so in particular it's homogeneous.
}

\proof{
  \cite[Proposition~10.20]{Kanamori}.
}

\end{document}
